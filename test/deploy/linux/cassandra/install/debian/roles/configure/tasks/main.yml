---
- debug:
    msg: Install Cassandra

- name: Get latest packages info
  shell: "apt update -y"
  become: true

- name: Install gnupg
  shell: "apt install defualt-jre"
  become: true

- name: Install Java
  shell: "apt install openjdk-8-jdk -y"
  become: true

- name: Add apache repository of Cassandra
  shell: "echo 'deb http://downloads.apache.org/cassandra/debian 40x main' | tee -a /etc/apt/sources.list.d/cassandra.sources.list"
  become: true

- name: Add Cassandra repository keys
  shell: "curl https://downloads.apache.org/cassandra/KEYS | apt-key add -"
  become: true

- name: Get latest packages info
  shell: "apt update -y"
  become: true

- name: install the Cassandra engine
  shell: "apt install cassandra -y"
  become: true
