{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://github.com/newrelic/open-install-library/validator/schema-v1.json",
  "type": "object",
    "title": "The root schema",
    "description": "The root schema comprises the entire JSON document.",
    "default": {},
    "examples": [
        {
            "metadata": {
                "name": "Infrastructure Agent Linux Installer",
                "description": "New Relic install recipe for the Infrastructure agent",
                "repository": "https://github.com/newrelic/infrastructure-agent",
                "variant": {
                    "os": [
                        "amazonLinux-2"
                    ],
                    "arch": [
                        "386"
                    ],
                    "targetEnvironment": [
                        "vm"
                    ]
                },
                "keywords": [
                    "Node",
                    "Node.js",
                    "Microsoft Azure Web Apps"
                ],
                "processMatch": [
                    "/infra"
                ],
                "meltMatch": {
                    "events": {
                        "pattern": [
                            "/SystemSample/"
                        ]
                    },
                    "metrics": {
                        "pattern": [
                            "/system.cpu.usage/"
                        ]
                    },
                    "logging": {
                        "pattern": [
                            "/http/"
                        ],
                        "files": [
                            "/var/log/system.log"
                        ]
                    }
                }
            },
            "install": {
                "version": "3",
                "tasks": {}
            }
        }
    ],
    "required": [
        "metadata",
        "install"
    ],
    "properties": {
        "metadata": {
            "$id": "#/properties/metadata",
            "type": "object",
            "title": "The metadata schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
                {
                    "name": "Infrastructure Agent Linux Installer",
                    "description": "New Relic install recipe for the Infrastructure agent",
                    "repository": "https://github.com/newrelic/infrastructure-agent",
                    "variant": {
                        "os": [
                            "amazonLinux-2"
                        ],
                        "arch": [
                            "386"
                        ],
                        "targetEnvironment": [
                            "vm"
                        ]
                    },
                    "keywords": [
                        "Node",
                        "Node.js",
                        "Microsoft Azure Web Apps"
                    ],
                    "processMatch": [
                        "/infra"
                    ],
                    "meltMatch": {
                        "events": {
                            "pattern": [
                                "/SystemSample/"
                            ]
                        },
                        "metrics": {
                            "pattern": [
                                "/system.cpu.usage/"
                            ]
                        },
                        "logging": {
                            "pattern": [
                                "/http/"
                            ],
                            "files": [
                                "/var/log/system.log"
                            ]
                        }
                    }
                }
            ],
            "required": [
                "name",
                "description",
                "repository",
                "variant",
                "keywords",
                "processMatch",
                "meltMatch"
            ],
            "properties": {
                "name": {
                    "$id": "#/properties/metadata/properties/name",
                    "type": "string",
                    "title": "The name schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": "",
                    "examples": [
                        "Infrastructure Agent Linux Installer"
                    ]
                },
                "description": {
                    "$id": "#/properties/metadata/properties/description",
                    "type": "string",
                    "title": "The description schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": "",
                    "examples": [
                        "New Relic install recipe for the Infrastructure agent"
                    ]
                },
                "repository": {
                    "$id": "#/properties/metadata/properties/repository",
                    "type": "string",
                    "title": "The repository schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": "",
                    "examples": [
                        "https://github.com/newrelic/infrastructure-agent"
                    ]
                },
                "variant": {
                    "$id": "#/properties/metadata/properties/variant",
                    "type": "object",
                    "title": "The variant schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {
                            "os": [
                                "amazonLinux-2"
                            ],
                            "arch": [
                                "386"
                            ],
                            "targetEnvironment": [
                                "vm"
                            ]
                        }
                    ],
                    "properties": {
                        "os": {
                            "$id": "#/properties/metadata/properties/variant/properties/os",
                            "type": "array",
                            "title": "The os schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "amazonLinux-2"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/metadata/properties/variant/properties/os/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/metadata/properties/variant/properties/os/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "amazonLinux-2"
                                        ]
                                    }
                                ]
                            }
                        },
                        "arch": {
                            "$id": "#/properties/metadata/properties/variant/properties/arch",
                            "type": "array",
                            "title": "The arch schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "386"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/metadata/properties/variant/properties/arch/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/metadata/properties/variant/properties/arch/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "386"
                                        ]
                                    }
                                ]
                            }
                        },
                        "targetEnvironment": {
                            "$id": "#/properties/metadata/properties/variant/properties/targetEnvironment",
                            "type": "array",
                            "title": "The targetEnvironment schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": [],
                            "examples": [
                                [
                                    "vm"
                                ]
                            ],
                            "additionalItems": true,
                            "items": {
                                "$id": "#/properties/metadata/properties/variant/properties/targetEnvironment/items",
                                "anyOf": [
                                    {
                                        "$id": "#/properties/metadata/properties/variant/properties/targetEnvironment/items/anyOf/0",
                                        "type": "string",
                                        "title": "The first anyOf schema",
                                        "description": "An explanation about the purpose of this instance.",
                                        "default": "",
                                        "examples": [
                                            "vm"
                                        ]
                                    }
                                ]
                            }
                        }
                    },
                    "additionalProperties": true
                },
                "keywords": {
                    "$id": "#/properties/metadata/properties/keywords",
                    "type": "array",
                    "title": "The keywords schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": [],
                    "examples": [
                        [
                            "Node",
                            "Node.js"
                        ]
                    ],
                    "additionalItems": true,
                    "items": {
                        "$id": "#/properties/metadata/properties/keywords/items",
                        "anyOf": [
                            {
                                "$id": "#/properties/metadata/properties/keywords/items/anyOf/0",
                                "type": "string",
                                "title": "The first anyOf schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "Node",
                                    "Node.js"
                                ]
                            }
                        ]
                    }
                },
                "processMatch": {
                    "$id": "#/properties/metadata/properties/processMatch",
                    "type": "array",
                    "title": "The processMatch schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": [],
                    "examples": [
                        [
                            "/infra"
                        ]
                    ],
                    "additionalItems": true,
                    "items": {
                        "$id": "#/properties/metadata/properties/processMatch/items",
                        "anyOf": [
                            {
                                "$id": "#/properties/metadata/properties/processMatch/items/anyOf/0",
                                "type": "string",
                                "title": "The first anyOf schema",
                                "description": "An explanation about the purpose of this instance.",
                                "default": "",
                                "examples": [
                                    "/infra"
                                ]
                            }
                        ]
                    }
                },
                "meltMatch": {
                    "$id": "#/properties/metadata/properties/meltMatch",
                    "type": "object",
                    "title": "The meltMatch schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {
                            "events": {
                                "pattern": [
                                    "/SystemSample/"
                                ]
                            },
                            "metrics": {
                                "pattern": [
                                    "/system.cpu.usage/"
                                ]
                            },
                            "logging": {
                                "pattern": [
                                    "/http/"
                                ],
                                "files": [
                                    "/var/log/system.log"
                                ]
                            }
                        }
                    ],
                    "properties": {
                        "events": {
                            "$id": "#/properties/metadata/properties/meltMatch/properties/events",
                            "type": "object",
                            "title": "The events schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": {},
                            "examples": [
                                {
                                    "pattern": [
                                        "/SystemSample/"
                                    ]
                                }
                            ],
                            "required": [
                                "pattern"
                            ],
                            "properties": {
                                "pattern": {
                                    "$id": "#/properties/metadata/properties/meltMatch/properties/events/properties/pattern",
                                    "type": "array",
                                    "title": "The pattern schema",
                                    "description": "An explanation about the purpose of this instance.",
                                    "default": [],
                                    "examples": [
                                        [
                                            "/SystemSample/"
                                        ]
                                    ],
                                    "additionalItems": true,
                                    "items": {
                                        "$id": "#/properties/metadata/properties/meltMatch/properties/events/properties/pattern/items",
                                        "anyOf": [
                                            {
                                                "$id": "#/properties/metadata/properties/meltMatch/properties/events/properties/pattern/items/anyOf/0",
                                                "type": "string",
                                                "title": "The first anyOf schema",
                                                "description": "An explanation about the purpose of this instance.",
                                                "default": "",
                                                "examples": [
                                                    "/SystemSample/"
                                                ]
                                            }
                                        ]
                                    }
                                }
                            },
                            "additionalProperties": true
                        },
                        "metrics": {
                            "$id": "#/properties/metadata/properties/meltMatch/properties/metrics",
                            "type": "object",
                            "title": "The metrics schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": {},
                            "examples": [
                                {
                                    "pattern": [
                                        "/system.cpu.usage/"
                                    ]
                                }
                            ],
                            "required": [
                                "pattern"
                            ],
                            "properties": {
                                "pattern": {
                                    "$id": "#/properties/metadata/properties/meltMatch/properties/metrics/properties/pattern",
                                    "type": "array",
                                    "title": "The pattern schema",
                                    "description": "An explanation about the purpose of this instance.",
                                    "default": [],
                                    "examples": [
                                        [
                                            "/system.cpu.usage/"
                                        ]
                                    ],
                                    "additionalItems": true,
                                    "items": {
                                        "$id": "#/properties/metadata/properties/meltMatch/properties/metrics/properties/pattern/items",
                                        "anyOf": [
                                            {
                                                "$id": "#/properties/metadata/properties/meltMatch/properties/metrics/properties/pattern/items/anyOf/0",
                                                "type": "string",
                                                "title": "The first anyOf schema",
                                                "description": "An explanation about the purpose of this instance.",
                                                "default": "",
                                                "examples": [
                                                    "/system.cpu.usage/"
                                                ]
                                            }
                                        ]
                                    }
                                }
                            },
                            "additionalProperties": true
                        },
                        "logging": {
                            "$id": "#/properties/metadata/properties/meltMatch/properties/logging",
                            "type": "object",
                            "title": "The logging schema",
                            "description": "An explanation about the purpose of this instance.",
                            "default": {},
                            "examples": [
                                {
                                    "pattern": [
                                        "/http/"
                                    ],
                                    "files": [
                                        "/var/log/system.log"
                                    ]
                                }
                            ],
                            "required": [
                                "pattern",
                                "files"
                            ],
                            "properties": {
                                "pattern": {
                                    "$id": "#/properties/metadata/properties/meltMatch/properties/logging/properties/pattern",
                                    "type": "array",
                                    "title": "The pattern schema",
                                    "description": "An explanation about the purpose of this instance.",
                                    "default": [],
                                    "examples": [
                                        [
                                            "/http/"
                                        ]
                                    ],
                                    "additionalItems": true,
                                    "items": {
                                        "$id": "#/properties/metadata/properties/meltMatch/properties/logging/properties/pattern/items",
                                        "anyOf": [
                                            {
                                                "$id": "#/properties/metadata/properties/meltMatch/properties/logging/properties/pattern/items/anyOf/0",
                                                "type": "string",
                                                "title": "The first anyOf schema",
                                                "description": "An explanation about the purpose of this instance.",
                                                "default": "",
                                                "examples": [
                                                    "/http/"
                                                ]
                                            }
                                        ]
                                    }
                                },
                                "files": {
                                    "$id": "#/properties/metadata/properties/meltMatch/properties/logging/properties/files",
                                    "type": "array",
                                    "title": "The files schema",
                                    "description": "An explanation about the purpose of this instance.",
                                    "default": [],
                                    "examples": [
                                        [
                                            "/var/log/system.log"
                                        ]
                                    ],
                                    "additionalItems": true,
                                    "items": {
                                        "$id": "#/properties/metadata/properties/meltMatch/properties/logging/properties/files/items",
                                        "anyOf": [
                                            {
                                                "$id": "#/properties/metadata/properties/meltMatch/properties/logging/properties/files/items/anyOf/0",
                                                "type": "string",
                                                "title": "The first anyOf schema",
                                                "description": "An explanation about the purpose of this instance.",
                                                "default": "",
                                                "examples": [
                                                    "/var/log/system.log"
                                                ]
                                            }
                                        ]
                                    }
                                }
                            },
                            "additionalProperties": true
                        }
                    },
                    "additionalProperties": true
                }
            },
            "additionalProperties": true
        },
        "install": {
            "$id": "#/properties/install",
            "type": "object",
            "title": "The install schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
                {
                    "version": "3",
                    "tasks": {}
                }
            ],
            "required": [
                "version",
                "tasks"
            ],
            "properties": {
                "version": {
                    "$id": "#/properties/install/properties/version",
                    "type": "string",
                    "title": "The version schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": "",
                    "examples": [
                        "3"
                    ]
                },
                "tasks": {
                    "$id": "#/properties/install/properties/tasks",
                    "type": "object",
                    "title": "The tasks schema",
                    "description": "An explanation about the purpose of this instance.",
                    "default": {},
                    "examples": [
                        {}
                    ],
                    "required": [],
                    "additionalProperties": true
                }
            },
            "additionalProperties": true
        }
    },
    "additionalProperties": true
}
